[gd_scene load_steps=8 format=3 uid="uid://5kswkk5balu6"]

[ext_resource type="Script" path="res://player/player.gd" id="1_v4k2b"]
[ext_resource type="Script" path="res://player/change_abilities_panel.gd" id="2_5idy2"]
[ext_resource type="Script" path="res://player/controller/player_controller.gd" id="2_ist2s"]
[ext_resource type="Texture2D" uid="uid://d2kdvrnsglfkg" path="res://player/textures/prototype_player.png" id="2_tkvjb"]

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_b0pup"]
bg_color = Color(0.295867, 0.295866, 0.295866, 0.784314)

[sub_resource type="CapsuleShape2D" id="CapsuleShape2D_ehwds"]
radius = 36.0
height = 128.0

[sub_resource type="SceneReplicationConfig" id="SceneReplicationConfig_gpxhm"]
properties/0/path = NodePath(".:position")
properties/0/spawn = true
properties/0/replication_mode = 2
properties/1/path = NodePath("RichTextLabel:text")
properties/1/spawn = true
properties/1/replication_mode = 2
properties/2/path = NodePath("PlayerCollisionShape2D:disabled")
properties/2/spawn = true
properties/2/replication_mode = 2
properties/3/path = NodePath(".:visible")
properties/3/spawn = true
properties/3/replication_mode = 2

[node name="Player" type="CharacterBody2D" node_paths=PackedStringArray("controller")]
collision_layer = 16
collision_mask = 5
floor_max_angle = 1.0472
floor_snap_length = 16.0
script = ExtResource("1_v4k2b")
ability_1 = 2
ability_2 = 3
ability_3 = 4
controller = NodePath("PlayerController")

[node name="CanvasLayer" type="CanvasLayer" parent="."]

[node name="ChangeAbilitiesPanel" type="PanelContainer" parent="CanvasLayer"]
unique_name_in_owner = true
visible = false
offset_right = 40.0
offset_bottom = 40.0
theme_override_styles/panel = SubResource("StyleBoxFlat_b0pup")
script = ExtResource("2_5idy2")

[node name="MarginContainer" type="MarginContainer" parent="CanvasLayer/ChangeAbilitiesPanel"]
layout_mode = 2
theme_override_constants/margin_left = 16
theme_override_constants/margin_top = 16
theme_override_constants/margin_right = 16
theme_override_constants/margin_bottom = 16

[node name="VBoxContainer" type="VBoxContainer" parent="CanvasLayer/ChangeAbilitiesPanel/MarginContainer"]
layout_mode = 2

[node name="HBoxContainer" type="HBoxContainer" parent="CanvasLayer/ChangeAbilitiesPanel/MarginContainer/VBoxContainer"]
layout_mode = 2
theme_override_constants/separation = 8

[node name="Label" type="Label" parent="CanvasLayer/ChangeAbilitiesPanel/MarginContainer/VBoxContainer/HBoxContainer"]
layout_mode = 2
text = "Ability #1"

[node name="Ability1OptionButton" type="OptionButton" parent="CanvasLayer/ChangeAbilitiesPanel/MarginContainer/VBoxContainer/HBoxContainer"]
unique_name_in_owner = true
custom_minimum_size = Vector2(192, 37)
layout_mode = 2
focus_mode = 0

[node name="HBoxContainer2" type="HBoxContainer" parent="CanvasLayer/ChangeAbilitiesPanel/MarginContainer/VBoxContainer"]
layout_mode = 2
theme_override_constants/separation = 8

[node name="Label" type="Label" parent="CanvasLayer/ChangeAbilitiesPanel/MarginContainer/VBoxContainer/HBoxContainer2"]
layout_mode = 2
text = "Ability #2"

[node name="Ability2OptionButton" type="OptionButton" parent="CanvasLayer/ChangeAbilitiesPanel/MarginContainer/VBoxContainer/HBoxContainer2"]
unique_name_in_owner = true
custom_minimum_size = Vector2(192, 37)
layout_mode = 2
focus_mode = 0

[node name="HBoxContainer3" type="HBoxContainer" parent="CanvasLayer/ChangeAbilitiesPanel/MarginContainer/VBoxContainer"]
layout_mode = 2
theme_override_constants/separation = 8

[node name="Label" type="Label" parent="CanvasLayer/ChangeAbilitiesPanel/MarginContainer/VBoxContainer/HBoxContainer3"]
layout_mode = 2
text = "Ability #3"

[node name="Ability3OptionButton" type="OptionButton" parent="CanvasLayer/ChangeAbilitiesPanel/MarginContainer/VBoxContainer/HBoxContainer3"]
unique_name_in_owner = true
custom_minimum_size = Vector2(192, 37)
layout_mode = 2
focus_mode = 0

[node name="Sprite2D" type="Sprite2D" parent="."]
unique_name_in_owner = true
position = Vector2(10, 0)
texture = ExtResource("2_tkvjb")

[node name="PlayerCollisionShape2D" type="CollisionShape2D" parent="."]
unique_name_in_owner = true
shape = SubResource("CapsuleShape2D_ehwds")

[node name="CenterPoint" type="Node2D" parent="."]
unique_name_in_owner = true

[node name="AbilityMultiplayerSpawner" type="MultiplayerSpawner" parent="."]
unique_name_in_owner = true
spawn_path = NodePath("../AbilityNodes")

[node name="AbilityNodes" type="Node" parent="."]
unique_name_in_owner = true

[node name="MultiplayerSynchronizer" type="MultiplayerSynchronizer" parent="."]
replication_config = SubResource("SceneReplicationConfig_gpxhm")

[node name="RichTextLabel" type="RichTextLabel" parent="."]
offset_left = -72.0
offset_top = -112.0
offset_right = 75.0
offset_bottom = -72.0
bbcode_enabled = true

[node name="PlayerController" type="Node" parent="."]
script = ExtResource("2_ist2s")
jump_velocity = -1100.0
coyote_time = 0.075
jump_buffer_time = 0.1
gravity_scale = 350.0
movement_speed = 650.0
ground_acceleration = 2500.0
ground_friction = 6000.0
ground_slide_friction = 30000.0
air_acceleration = 2500.0
air_friction = 4000.0

[node name="Timer" type="Timer" parent="."]
wait_time = 0.15
one_shot = true
